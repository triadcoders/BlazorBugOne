@using System.Net.Http.Json

@using BlazorBugOne.Shared;

@inject HttpClient httpClient
@inject NavigationManager NavigationManager


@page "/Admin"


<h1>ADMIN PAGE</h1>


<MudCard>
    <MudCardContent>
        <MudForm @ref="form" @bind-IsValid="@success" @bind-Errors="@errors">


            <MudTextField T="string" @bind-Text="firstName" Label="First Name" Required="true" RequiredError="First name is required!" />
            <MudTextField T="string" @bind-Text="lastName" Label="Last Name" Required="true" RequiredError="Last name is required!" />


            <div class="d-flex">
            <MudRadioGroup T="string" @bind-SelectedOption="@priorityText" Required="true" RequiredError="Priority">
                <MudRadio Option="@("User")">User</MudRadio>
                <MudRadio Option="@("Admin")">Admin</MudRadio>
                <MudRadio Option="@("Disabled")">Disabled</MudRadio>
            </MudRadioGroup>
        </div>


            @*<MudSelect T="string" @bind-Text="@assignedTo" Label="User Type">
            <MudSelectItem Value="@("User")" />
            <MudSelectItem Value="@("Admin")" />

        </MudSelect>*@



            @*<MudItem xs="12" sm="6" md="4">
            <MudDatePicker Label="User Since" @bind-Date="discoverydate" />
        </MudItem>*@

            @*<MudSelect T="string" @bind-Text="@projectText" Label="Project">
            <MudSelectItem Value="@("Movie Inventory Program")" />
            <MudSelectItem Value="@("In Stock Alert Program")" />
            <MudSelectItem Value="@("The Blogging PRogram ")" />
            <MudSelectItem Value="@("The Best Ever Video Game")" />
        </MudSelect>*@


            @*<MudSelect T="string" @bind-Text="@lifeCycleText" Label="Life Cycle">
                <MudSelectItem Value="@("Open")" />
                <MudSelectItem Value="@("In Progress")" />
                <MudSelectItem Value="@("Not a Bug")" />
                <MudSelectItem Value="@("Not reproducible")" />
                <MudSelectItem Value="@("Missing Information")" />
                <MudSelectItem Value="@("Pushed Back")" />
                <MudSelectItem Value="@("Ready for next release")" />
                <MudSelectItem Value="@("Ready for next retest")" />
                <MudSelectItem Value="@("Fix not confirmed")" />
                <MudSelectItem Value="@("Closed")" />
                <MudSelectItem Value="@("Fixed")" />
                <MudSelectItem Value="@("On Hold")" />
                <MudSelectItem Value="@("Duplicate bug")" />
            </MudSelect>*@


            @*<div class="d-flex">
            <MudRadioGroup T="string" @bind-SelectedOption="@priorityText" Required="true" RequiredError="Priority">
                <MudRadio Option="@("Low")">Low</MudRadio>
                <MudRadio Option="@("Medium")">Medium</MudRadio>
                <MudRadio Option="@("High")">High</MudRadio>
                <MudRadio Option="@("Urgent")">Urgent</MudRadio>
            </MudRadioGroup>
        </div>*@

            @*<MudItem xs="12" sm="6" md="4">
            <MudDatePicker Label="Target Resolution Date" @bind-Date="resolutiondate" />
        </MudItem>*@



            @*<MudItem xs="12" sm="12" md="12">
            <MudTextField T="string" @bind-Text="@progressReport" Label="Progress Report" Variant="Variant.Text"  Lines="5" />
        </MudItem>

        <MudItem xs="12" sm="12" md="12">
            <MudTextField T="string" @bind-Text="@resolutionText"  Label="Resolution Summary" Variant="Variant.Text"  Lines="5" />
        </MudItem>*@






            @*<MudCheckBox T="bool" Required="true" RequiredError="You must agree" Class="ml-n2"
        Label="I agree that MudBlazor is awesome!" />*@


        </MudForm>
    </MudCardContent>
    <MudCardActions>
        @*<MudButton Variant="Variant.Filled" Color="Color.Primary" Disabled="@(!success)" Class="ml-auto">Submit Bug</MudButton>*@
        @*<MudButton Variant="Variant.Filled" OnClick="SubmitBug" Color="Color.Primary" Class="ml-auto">Submit Bug</MudButton>*@
    </MudCardActions>




</MudCard>

@code {
    bool success;


    string reportText = "NA";
    string firstName = "NA";
    string lastName = "NA";
    string detailsText = "NA";
    DateTime? discoverydate = DateTime.Today;
    DateTime? resolutiondate = DateTime.Today;
    string progressReport = "NA";
    string projectText = "NA";
    string firstname = "NA";
    string lastname = "NA";
    string assignedTo = "NA";
    string[] errors = { };
    string resultstring = "";
    string resolutionText = "NA";
    string priorityText = "NA";
    string lifeCycleText = "NA";

    [Parameter]
    public string bugid { get; set; }


    //  HttpResponseMessage result;
    //    MudTextField<string> pwField1;
    MudForm form;
    Bug bug = new();




    public string Text { get; set; } = "????";
    public string ButtonText { get; set; } = "Click Me";
    public int ButtonClicked { get; set; }
}
